<!DOCTYPE html>
<html>
  <head>
    <title>Style guide</title>
    <%= csrf_meta_tags %>
    <%= stylesheet_link_tag "elemental_styleguide/application", media: "all" %>
    <%= stylesheet_link_tag "elemental_styleguide/rouge", media: "all" %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row min-vh-100">
        <nav class="col-md-3 col-lg-2 border-end shadow-sm px-2 py-4">
          <%= navigation %>
        </nav>
        <main class="col-md-9 col-lg-10 p-4">
          <%= yield %>
        </main>
      </div>
    </div>
    <script>
      var iframes = document.getElementsByTagName('iframe');

      for (var i = 0; i < iframes.length; i++) {
        iframes[i].onload = function(e) {
          var i = e.target;
          var d = i.contentWindow.document;
          var b = d.getElementsByTagName('body')[0];

          if (i.height == 'auto') {
            i.style.height = b.scrollHeight + 'px';
          } else {
            i.style.height = i.height + 'px';
          }
        }
      }
    </script>
  </body>
</html>
